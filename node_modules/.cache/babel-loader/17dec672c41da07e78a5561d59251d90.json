{"ast":null,"code":"import _classCallCheck from \"/home/pranuthideepak/Desktop/SOAL/MS/ms10-lupus/e-commerce/e-commerce/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/pranuthideepak/Desktop/SOAL/MS/ms10-lupus/e-commerce/e-commerce/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/pranuthideepak/Desktop/SOAL/MS/ms10-lupus/e-commerce/e-commerce/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/pranuthideepak/Desktop/SOAL/MS/ms10-lupus/e-commerce/e-commerce/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/pranuthideepak/Desktop/SOAL/MS/ms10-lupus/e-commerce/e-commerce/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/pranuthideepak/Desktop/SOAL/MS/ms10-lupus/e-commerce/e-commerce/src/components/ProductList.js\";\nimport React, { Component } from 'react';\nimport Product from './Product';\nimport { connect } from \"react-redux\";\nimport { Link, withRouter } from 'react-router-dom';\nimport { compose } from 'redux';\nimport Categories from './Categories';\nimport Pagination from '../pagination/Pagination';\nimport '../style/ProductList.css';\nimport PropTypes from 'prop-types';\nvar count = 0;\n\nvar ProductList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ProductList, _Component);\n\n  function ProductList() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ProductList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ProductList)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      allProducts: [],\n      currentProducts: [],\n      currentPage: null,\n      totalPages: null,\n      refresh: true\n    };\n\n    _this.componentDidMount = function () {\n      count = 0;\n\n      _this.setState({\n        refresh: true\n      });\n    };\n\n    _this.onPageChanged = function (data) {\n      var allProducts = _this.state.allProducts;\n      var currentPage = data.currentPage,\n          totalPages = data.totalPages,\n          pageLimit = data.pageLimit;\n      var offset = (currentPage - 1) * pageLimit;\n      var currentProducts = allProducts.slice(offset, offset + pageLimit);\n\n      _this.setState({\n        currentPage: currentPage,\n        currentProducts: currentProducts,\n        totalPages: totalPages\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(ProductList, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (count == 0 && this.props.products.length > 0) {\n        this.setState({\n          allProducts: this.props.products\n        });\n        count++;\n      }\n    }\n  }, {\n    key: \"getProducts\",\n    value: function getProducts(products) {\n      if (count != 0) {\n        return products.length ? products.map(function (product) {\n          return React.createElement(\"div\", {\n            class: \"col-sm-6 col-md-4\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 44\n            },\n            __self: this\n          }, React.createElement(Product, {\n            id: product.id,\n            img: product.img,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45\n            },\n            __self: this\n          }));\n        }) : React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, \"HEllo from product\");\n      } else {\n        return React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, \"There is no product\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          allProducts = _this$state.allProducts,\n          currentProducts = _this$state.currentProducts,\n          currentPage = _this$state.currentPage,\n          totalPages = _this$state.totalPages;\n      var totalProducts = allProducts.length;\n      if (totalProducts === 0) return null;\n      var ProductsList = this.getProducts(this.state.currentProducts);\n      return React.createElement(\"div\", {\n        id: \"content\",\n        class: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"padding-top\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm-4 col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(Categories, {\n        category: \"All\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-sm-8 col-md-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, ProductsList, React.createElement(\"div\", {\n        className: \"col-md-12 align-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(Pagination, {\n        totalRecords: totalProducts,\n        pageLimit: 6,\n        pageNeighbours: 1,\n        onPageChanged: this.onPageChanged,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      })))))));\n    }\n  }]);\n\n  return ProductList;\n}(Component);\n\nProductList.propTypes = {\n  products: PropTypes.array\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    products: state.products.products\n  };\n};\n\nexport default compose(withRouter, connect(mapStateToProps))(ProductList); //export default withRouter(connect(mapStateToProps)(ProductList));","map":{"version":3,"sources":["/home/pranuthideepak/Desktop/SOAL/MS/ms10-lupus/e-commerce/e-commerce/src/components/ProductList.js"],"names":["React","Component","Product","connect","Link","withRouter","compose","Categories","Pagination","PropTypes","count","ProductList","state","allProducts","currentProducts","currentPage","totalPages","refresh","componentDidMount","setState","onPageChanged","data","pageLimit","offset","slice","props","products","length","map","product","id","img","totalProducts","ProductsList","getProducts","propTypes","array","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Product from './Product'\nimport { connect } from \"react-redux\";\nimport {Link,withRouter} from 'react-router-dom';\nimport {compose} from 'redux';\nimport Categories from './Categories'\nimport Pagination from '../pagination/Pagination'\nimport '../style/ProductList.css'\nimport PropTypes from 'prop-types';\n\nlet count = 0;\n class ProductList extends Component {\n  \n  state={\n    allProducts:[],\n    currentProducts: [], \n    currentPage: null, \n    totalPages: null,\n    refresh: true\n  }\ncomponentDidMount=()=>{\n  count=0;\n  this.setState({refresh:true});\n}\n \n  \n    componentDidUpdate(){\n      if((count == 0) && (this.props.products.length >0)){\n        this.setState({\n          allProducts: this.props.products\n        })\n      \n      count++;\n      }\n \n    }\n \n\n  getProducts(products){\n    if(count!=0){\n    return (products.length? (\n      products.map(product => {\n              return(\n                   <div class=\"col-sm-6 col-md-4\">\n                     <Product id = {product.id} img={product.img}/>\n                   </div>\n              )\n      })\n      \n    ):(<h3>HEllo from product</h3>))\n    }else { return (<h3>There is no product</h3>)}\n  }\n\n  onPageChanged = data => {\n    const { allProducts } = this.state;\n    const { currentPage, totalPages, pageLimit } = data;\n\n    const offset = (currentPage - 1) * pageLimit;\n    const currentProducts = allProducts.slice(offset, offset + pageLimit);\n\n    this.setState({ currentPage, currentProducts, totalPages });\n  }\n\n  render() {\n    const { allProducts, currentProducts, currentPage, totalPages } = this.state;\n    const totalProducts = allProducts.length;\n    \n    if (totalProducts === 0) return null;\n\n    const  ProductsList= this.getProducts(this.state.currentProducts);\n    \n    return (\n\n            <div id=\"content\" class=\"container\">\n              <div className=\"padding-top\">\n              <div className=\"row\">\n                <div className=\"col-sm-4 col-md-3\">\n                    <Categories category=\"All\"/>\n                </div>\n                <div className=\"col-sm-8 col-md-9\">\n                  <div className=\"row\">\n                    {ProductsList}\n                    <div className=\"col-md-12 align-right\">\n                    <Pagination totalRecords={totalProducts} pageLimit={6} pageNeighbours={1} onPageChanged={this.onPageChanged} />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>          \n    )\n  }\n}\nProductList.propTypes = {\n  products: PropTypes.array\n};\n\nconst mapStateToProps = state =>{\n  return ({\n  products: state.products.products\n});\n}\nexport default compose(\n  withRouter,\n  connect(mapStateToProps)\n)(ProductList);\n//export default withRouter(connect(mapStateToProps)(ProductList));"]},"metadata":{},"sourceType":"module"}